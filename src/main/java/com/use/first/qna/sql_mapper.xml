<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.use.first.qna.QnaDAO">

	<select id="qnaList" resultType="com.use.first.qna.QnaVO" >
		SELECT q_id, q_mid, q_mname, q_type, q_title, q_content, q_date, q_readCount, q_reference, q_answer
		FROM qna
		ORDER BY q_id DESC
		limit #{pageStart}, #{perPageNum}
	</select>
	
	<select id="getQnaTotalCount" resultType="int">
		SELECT count(*) FROM qna
	</select>
	
	<select id="qnaInfo" resultType="com.use.first.qna.QnaVO">
		SELECT q_id, q_mid, q_mname, q_type, q_title, q_content, q_date, q_readCount, q_reference, q_answer
		FROM qna
		WHERE q_id = #{q_id}
	</select>
	
	<update id="qnaRead" parameterType="int">
		<![CDATA[
		UPDATE qna SET q_readCount = #{param2} WHERE q_id = #{param1}
		]]>
	</update>
	
	<delete id="qnaDelete">
		<![CDATA[
		DELETE FROM qna WHERE q_id = #{q_id}
		]]>
	</delete>
</mapper>